<!DOCTYPE html>

<html>
  <head>
    <title>Protocol Documentation</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Ubuntu:400,700,400italic"/>
    <style>
      body {
        width: 60em;
        margin: 1em auto;
        color: #222;
        font-family: "Ubuntu", sans-serif;
        padding-bottom: 4em;
      }

      h1 {
        font-weight: normal;
        border-bottom: 1px solid #aaa;
        padding-bottom: 0.5ex;
      }

      h2 {
        border-bottom: 1px solid #aaa;
        padding-bottom: 0.5ex;
        margin: 1.5em 0;
      }

      h3 {
        font-weight: normal;
        border-bottom: 1px solid #aaa;
        padding-bottom: 0.5ex;
      }

      a {
        text-decoration: none;
        color: #567e25;
      }

      table {
        width: 100%;
        font-size: 80%;
        border-collapse: collapse;
      }

      thead {
        font-weight: 700;
        background-color: #dcdcdc;
      }

      tbody tr:nth-child(even) {
        background-color: #fbfbfb;
      }

      td {
        border: 1px solid #ccc;
        padding: 0.5ex 2ex;
      }

      td p {
        text-indent: 1em;
        margin: 0;
      }

      td p:nth-child(1) {
        text-indent: 0;  
      }

       
      .field-table td:nth-child(1) {  
        width: 10em;
      }
      .field-table td:nth-child(2) {  
        width: 10em;
      }
      .field-table td:nth-child(3) {  
        width: 6em;
      }
      .field-table td:nth-child(4) {  
        width: auto;
      }

       
      .extension-table td:nth-child(1) {  
        width: 10em;
      }
      .extension-table td:nth-child(2) {  
        width: 10em;
      }
      .extension-table td:nth-child(3) {  
        width: 10em;
      }
      .extension-table td:nth-child(4) {  
        width: 5em;
      }
      .extension-table td:nth-child(5) {  
        width: auto;
      }

       
      .enum-table td:nth-child(1) {  
        width: 10em;
      }
      .enum-table td:nth-child(2) {  
        width: 10em;
      }
      .enum-table td:nth-child(3) {  
        width: auto;
      }

       
      .scalar-value-types-table tr {
        height: 3em;
      }

       
      #toc-container ul {
        list-style-type: none;
        padding-left: 1em;
        line-height: 180%;
        margin: 0;
      }
      #toc > li > a {
        font-weight: bold;
      }

       
      .file-heading {
        width: 100%;
        display: table;
        border-bottom: 1px solid #aaa;
        margin: 4em 0 1.5em 0;
      }
      .file-heading h2 {
        border: none;
        display: table-cell;
      }
      .file-heading a {
        text-align: right;
        display: table-cell;
      }

       
      .badge {
        width: 1.6em;
        height: 1.6em;
        display: inline-block;

        line-height: 1.6em;
        text-align: center;
        font-weight: bold;
        font-size: 60%;

        color: #89ba48;
        background-color: #dff0c8;

        margin: 0.5ex 1em 0.5ex -1em;
        border: 1px solid #fbfbfb;
        border-radius: 1ex;
      }
    </style>

    
    <link rel="stylesheet" type="text/css" href="stylesheet.css"/>
  </head>

  <body>

    <h1 id="title">Protocol Documentation</h1>

    <h2>Table of Contents</h2>

    <div id="toc-container">
      <ul id="toc">
        
          
          <li>
            <a href="#dydxprotocol%2findexer%2foff_chain_updates%2foff_chain_updates.proto">dydxprotocol/indexer/off_chain_updates/off_chain_updates.proto</a>
            <ul>
              
                <li>
                  <a href="#dydxprotocol.indexer.off_chain_updates.OffChainUpdateV1"><span class="badge">M</span>OffChainUpdateV1</a>
                </li>
              
                <li>
                  <a href="#dydxprotocol.indexer.off_chain_updates.OrderPlaceV1"><span class="badge">M</span>OrderPlaceV1</a>
                </li>
              
                <li>
                  <a href="#dydxprotocol.indexer.off_chain_updates.OrderRemoveV1"><span class="badge">M</span>OrderRemoveV1</a>
                </li>
              
                <li>
                  <a href="#dydxprotocol.indexer.off_chain_updates.OrderUpdateV1"><span class="badge">M</span>OrderUpdateV1</a>
                </li>
              
              
                <li>
                  <a href="#dydxprotocol.indexer.off_chain_updates.OrderPlaceV1.OrderPlacementStatus"><span class="badge">E</span>OrderPlaceV1.OrderPlacementStatus</a>
                </li>
              
                <li>
                  <a href="#dydxprotocol.indexer.off_chain_updates.OrderRemoveV1.OrderRemovalStatus"><span class="badge">E</span>OrderRemoveV1.OrderRemovalStatus</a>
                </li>
              
              
              
            </ul>
          </li>
        
        <li><a href="#scalar-value-types">Scalar Value Types</a></li>
      </ul>
    </div>

    
      
      <div class="file-heading">
        <h2 id="dydxprotocol/indexer/off_chain_updates/off_chain_updates.proto">dydxprotocol/indexer/off_chain_updates/off_chain_updates.proto</h2><a href="#title">Top</a>
      </div>
      <p></p>

      
        <h3 id="dydxprotocol.indexer.off_chain_updates.OffChainUpdateV1">OffChainUpdateV1</h3>
        <p>An OffChainUpdate message is the message type which will be sent on Kafka to</p><p>the Indexer.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>order_place</td>
                  <td><a href="#dydxprotocol.indexer.off_chain_updates.OrderPlaceV1">OrderPlaceV1</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>order_remove</td>
                  <td><a href="#dydxprotocol.indexer.off_chain_updates.OrderRemoveV1">OrderRemoveV1</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>order_update</td>
                  <td><a href="#dydxprotocol.indexer.off_chain_updates.OrderUpdateV1">OrderUpdateV1</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="dydxprotocol.indexer.off_chain_updates.OrderPlaceV1">OrderPlaceV1</h3>
        <p>OrderPlace messages contain the order placed/replaced.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>order</td>
                  <td><a href="#dydxprotocol.indexer.protocol.v1.IndexerOrder">dydxprotocol.indexer.protocol.v1.IndexerOrder</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>placement_status</td>
                  <td><a href="#dydxprotocol.indexer.off_chain_updates.OrderPlaceV1.OrderPlacementStatus">OrderPlaceV1.OrderPlacementStatus</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="dydxprotocol.indexer.off_chain_updates.OrderRemoveV1">OrderRemoveV1</h3>
        <p>OrderRemove messages contain the id of the order removed, the reason for the</p><p>removal and the resulting status from the removal.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>removed_order_id</td>
                  <td><a href="#dydxprotocol.indexer.protocol.v1.IndexerOrderId">dydxprotocol.indexer.protocol.v1.IndexerOrderId</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>reason</td>
                  <td><a href="#dydxprotocol.indexer.shared.OrderRemovalReason">dydxprotocol.indexer.shared.OrderRemovalReason</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>removal_status</td>
                  <td><a href="#dydxprotocol.indexer.off_chain_updates.OrderRemoveV1.OrderRemovalStatus">OrderRemoveV1.OrderRemovalStatus</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      
        <h3 id="dydxprotocol.indexer.off_chain_updates.OrderUpdateV1">OrderUpdateV1</h3>
        <p>OrderUpdate messages contain the id of the order being updated, and the</p><p>updated total filled quantums of the order.</p>

        
          <table class="field-table">
            <thead>
              <tr><td>Field</td><td>Type</td><td>Label</td><td>Description</td></tr>
            </thead>
            <tbody>
              
                <tr>
                  <td>order_id</td>
                  <td><a href="#dydxprotocol.indexer.protocol.v1.IndexerOrderId">dydxprotocol.indexer.protocol.v1.IndexerOrderId</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
                <tr>
                  <td>total_filled_quantums</td>
                  <td><a href="#uint64">uint64</a></td>
                  <td></td>
                  <td><p> </p></td>
                </tr>
              
            </tbody>
          </table>

          

        
      

      
        <h3 id="dydxprotocol.indexer.off_chain_updates.OrderPlaceV1.OrderPlacementStatus">OrderPlaceV1.OrderPlacementStatus</h3>
        <p>OrderPlacementStatus is an enum for the resulting status after an order is</p><p>placed.</p>
        <table class="enum-table">
          <thead>
            <tr><td>Name</td><td>Number</td><td>Description</td></tr>
          </thead>
          <tbody>
            
              <tr>
                <td>ORDER_PLACEMENT_STATUS_UNSPECIFIED</td>
                <td>0</td>
                <td><p>Default value, this is invalid and unused.</p></td>
              </tr>
            
              <tr>
                <td>ORDER_PLACEMENT_STATUS_BEST_EFFORT_OPENED</td>
                <td>1</td>
                <td><p>A best effort opened order is one that has only been confirmed to be
placed on the dYdX node sending the off-chain update message.
The cases where this happens includes:
- The dYdX node places an order in it&#39;s in-memory orderbook during the
  CheckTx flow.
A best effort placed order may not have been placed on other dYdX
nodes including other dYdX validator nodes and may still be excluded in
future order matches.</p></td>
              </tr>
            
              <tr>
                <td>ORDER_PLACEMENT_STATUS_OPENED</td>
                <td>2</td>
                <td><p>An opened order is one that is confirmed to be placed on all dYdX nodes
(discounting dishonest dYdX nodes) and will be included in any future
order matches.
This status is used internally by the indexer and will not be sent
out by protocol.</p></td>
              </tr>
            
          </tbody>
        </table>
      
        <h3 id="dydxprotocol.indexer.off_chain_updates.OrderRemoveV1.OrderRemovalStatus">OrderRemoveV1.OrderRemovalStatus</h3>
        <p>OrderRemovalStatus is an enum for the resulting status after an order is</p><p>removed.</p>
        <table class="enum-table">
          <thead>
            <tr><td>Name</td><td>Number</td><td>Description</td></tr>
          </thead>
          <tbody>
            
              <tr>
                <td>ORDER_REMOVAL_STATUS_UNSPECIFIED</td>
                <td>0</td>
                <td><p>Default value, this is invalid and unused.</p></td>
              </tr>
            
              <tr>
                <td>ORDER_REMOVAL_STATUS_BEST_EFFORT_CANCELED</td>
                <td>1</td>
                <td><p>A best effort canceled order is one that has only been confirmed to be
removed on the dYdX node sending the off-chain update message.
The cases where this happens includes:
- the order was removed due to the dYdX node receiving a CancelOrder
  transaction for the order.
- the order was removed due to being undercollateralized during
  optimistic matching.
A best effort canceled order may not have been removed on other dYdX
nodes including other dYdX validator nodes and may still be included in
future order matches.</p></td>
              </tr>
            
              <tr>
                <td>ORDER_REMOVAL_STATUS_CANCELED</td>
                <td>2</td>
                <td><p>A canceled order is one that is confirmed to be removed on all dYdX nodes
(discounting dishonest dYdX nodes) and will not be included in any future
order matches.
The cases where this happens includes:
- the order is expired.</p></td>
              </tr>
            
              <tr>
                <td>ORDER_REMOVAL_STATUS_FILLED</td>
                <td>3</td>
                <td><p>An order was fully-filled. Only sent by the Indexer for stateful orders.</p></td>
              </tr>
            
          </tbody>
        </table>
      

      

      
    

    <h2 id="scalar-value-types">Scalar Value Types</h2>
    <table class="scalar-value-types-table">
      <thead>
        <tr><td>.proto Type</td><td>Notes</td><td>C++</td><td>Java</td><td>Python</td><td>Go</td><td>C#</td><td>PHP</td><td>Ruby</td></tr>
      </thead>
      <tbody>
        
          <tr id="double">
            <td>double</td>
            <td></td>
            <td>double</td>
            <td>double</td>
            <td>float</td>
            <td>float64</td>
            <td>double</td>
            <td>float</td>
            <td>Float</td>
          </tr>
        
          <tr id="float">
            <td>float</td>
            <td></td>
            <td>float</td>
            <td>float</td>
            <td>float</td>
            <td>float32</td>
            <td>float</td>
            <td>float</td>
            <td>Float</td>
          </tr>
        
          <tr id="int32">
            <td>int32</td>
            <td>Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint32 instead.</td>
            <td>int32</td>
            <td>int</td>
            <td>int</td>
            <td>int32</td>
            <td>int</td>
            <td>integer</td>
            <td>Bignum or Fixnum (as required)</td>
          </tr>
        
          <tr id="int64">
            <td>int64</td>
            <td>Uses variable-length encoding. Inefficient for encoding negative numbers – if your field is likely to have negative values, use sint64 instead.</td>
            <td>int64</td>
            <td>long</td>
            <td>int/long</td>
            <td>int64</td>
            <td>long</td>
            <td>integer/string</td>
            <td>Bignum</td>
          </tr>
        
          <tr id="uint32">
            <td>uint32</td>
            <td>Uses variable-length encoding.</td>
            <td>uint32</td>
            <td>int</td>
            <td>int/long</td>
            <td>uint32</td>
            <td>uint</td>
            <td>integer</td>
            <td>Bignum or Fixnum (as required)</td>
          </tr>
        
          <tr id="uint64">
            <td>uint64</td>
            <td>Uses variable-length encoding.</td>
            <td>uint64</td>
            <td>long</td>
            <td>int/long</td>
            <td>uint64</td>
            <td>ulong</td>
            <td>integer/string</td>
            <td>Bignum or Fixnum (as required)</td>
          </tr>
        
          <tr id="sint32">
            <td>sint32</td>
            <td>Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int32s.</td>
            <td>int32</td>
            <td>int</td>
            <td>int</td>
            <td>int32</td>
            <td>int</td>
            <td>integer</td>
            <td>Bignum or Fixnum (as required)</td>
          </tr>
        
          <tr id="sint64">
            <td>sint64</td>
            <td>Uses variable-length encoding. Signed int value. These more efficiently encode negative numbers than regular int64s.</td>
            <td>int64</td>
            <td>long</td>
            <td>int/long</td>
            <td>int64</td>
            <td>long</td>
            <td>integer/string</td>
            <td>Bignum</td>
          </tr>
        
          <tr id="fixed32">
            <td>fixed32</td>
            <td>Always four bytes. More efficient than uint32 if values are often greater than 2^28.</td>
            <td>uint32</td>
            <td>int</td>
            <td>int</td>
            <td>uint32</td>
            <td>uint</td>
            <td>integer</td>
            <td>Bignum or Fixnum (as required)</td>
          </tr>
        
          <tr id="fixed64">
            <td>fixed64</td>
            <td>Always eight bytes. More efficient than uint64 if values are often greater than 2^56.</td>
            <td>uint64</td>
            <td>long</td>
            <td>int/long</td>
            <td>uint64</td>
            <td>ulong</td>
            <td>integer/string</td>
            <td>Bignum</td>
          </tr>
        
          <tr id="sfixed32">
            <td>sfixed32</td>
            <td>Always four bytes.</td>
            <td>int32</td>
            <td>int</td>
            <td>int</td>
            <td>int32</td>
            <td>int</td>
            <td>integer</td>
            <td>Bignum or Fixnum (as required)</td>
          </tr>
        
          <tr id="sfixed64">
            <td>sfixed64</td>
            <td>Always eight bytes.</td>
            <td>int64</td>
            <td>long</td>
            <td>int/long</td>
            <td>int64</td>
            <td>long</td>
            <td>integer/string</td>
            <td>Bignum</td>
          </tr>
        
          <tr id="bool">
            <td>bool</td>
            <td></td>
            <td>bool</td>
            <td>boolean</td>
            <td>boolean</td>
            <td>bool</td>
            <td>bool</td>
            <td>boolean</td>
            <td>TrueClass/FalseClass</td>
          </tr>
        
          <tr id="string">
            <td>string</td>
            <td>A string must always contain UTF-8 encoded or 7-bit ASCII text.</td>
            <td>string</td>
            <td>String</td>
            <td>str/unicode</td>
            <td>string</td>
            <td>string</td>
            <td>string</td>
            <td>String (UTF-8)</td>
          </tr>
        
          <tr id="bytes">
            <td>bytes</td>
            <td>May contain any arbitrary sequence of bytes.</td>
            <td>string</td>
            <td>ByteString</td>
            <td>str</td>
            <td>[]byte</td>
            <td>ByteString</td>
            <td>string</td>
            <td>String (ASCII-8BIT)</td>
          </tr>
        
      </tbody>
    </table>
  </body>
</html>

